<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Animations Showcase</title>
    <!-- Link to the main shared CSS file -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="hero">
        <h1>JavaScript Animations Showcase</h1>
        <p>Explore animations and After Effects scripts dynamically!</p>
    </header>

    <main>
        <!-- Left Panel for Animations List -->
        <div class="left-panel card">
            <h3 class="card-header">Animations</h3>
            <div id="repos-container" class="card-body">
                <!-- Buttons for animations will be dynamically generated here -->
            </div>
        </div>

        <!-- Right Panel for Animation Preview and After Effects Script -->
        <div class="right-panel">
            <div class="card">
                <h3 class="card-header">Animation Preview</h3>
                <canvas id="animationCanvas" class="animation-box" width="800" height="600"></canvas>
            </div>

            <div class="card details-box">
                <h3>After Effects Script</h3>
                <pre id="afterEffectsText">Loading script...</pre>
            </div>
        </div>
    </main>

    <!-- JavaScript Files -->
    <script src="loadScript.js"></script> <!-- Script directly in root -->
    <script>
        // Dynamically load an animation script and After Effects script
        const loadAnimation = (animationFolder, scriptFile) => {
            // Set the canvas animation script dynamically
            const script = document.createElement('script');
            script.src = `${animationFolder}/${scriptFile}`;
            document.body.appendChild(script);

            // Load After Effects text file dynamically
            const textFile = `${animationFolder}/script.txt`;
            fetch(textFile)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('afterEffectsText').textContent = data;
                })
                .catch(error => {
                    console.error('Error loading After Effects script:', error);
                    document.getElementById('afterEffectsText').textContent = 'Unable to load script.';
                });
        };

        // Example: Load default animation on page load
        loadAnimation('BorderLines', 'borderLinesAnimation.js');
    </script>
</body>
</html>
